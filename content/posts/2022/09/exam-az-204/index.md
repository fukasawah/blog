---
title: "MCP資格のAZ-204に合格しました"
date: "2022-09-19T13:38:26+09:00"
draft: false
toc: true
images:
tags: 
  - Examination
  - MCP
---

Cloud Skill Challenge 2022 Mayのバウチャーをもらったので受けてきました。AZ-305を請けるつもりでしたが、対象外だったので。

821点で合格でした。セクションごとの成績を見てみましょう。

![受験結果のスコア。80%切ってるものが多い。](images/index/2022-09-17-17-01-18.png)

特に「Azureサービスおよびサードパーティ製サービスの接続と使用」が悲惨です。ロクに実技をしてないことがよくわかりますね。

### 感想

- 言語選択があった(C#, Python)
  - 実装コードを選ばせられる。さすがにライブラリ固有な話はない・・・こともなかったが、実装経験がないとすぐには難しそうな話も
- 学習ガイドに無い範囲もさわり程度にAzure Static WebApps出てくる
- ニッチな設問も多く出る
  - Azure ADで認証するアプリで、アプリからアプリの権限でリソースにアクセスするのではなく、アプリから認証したユーザから権限を委譲してもらい、リソースにアクセスする系の話があった気がする。こういった複合技みたいな情報はすぐには出てこないし裏付けを取るのがしんどい。
- アカウントキー等のリソースのシークレット情報を使わず、マネージドIDを使ったAzure AD認証を推していっている
  - 今のチュートリアルでやった気になっていると、ここでふるい落とされる

### やっておいたほうがいいこと

まず821点ごときの凡々な成績者の言う事なんで話半分に・・・（予防線）

勉強法は、教材を買ってひたすら解いてわからないところを復習、というありきたりな方法はまだ通用すると思います。

しかし、今回の試験を受けた感じ、Azureはこういうのを認めていない気がしていて、実際に範囲外の内容も出てきた。
（もちろん、Udemyなどで教材を売る方は合格に繋がらない教材は買ってもらえなくなるので、そのうちキャッチアップして対応していくだろう）

なので、それ以外にやっておいたほうが良いことはありそうだったので書いてみる。どちらかというと、Azureを使う上でやっておいた方が良いことのほうが近くて、これが試験の役に立つと思ってます。

- アップデート情報をキャッチアップする
- サービスの制限を知る
- 時代の流れを抑えておく

試験範囲ではないからやらない、のではなく、普段からアップデート情報をキャッチアップしていく。
以下のあたりはAZ-204では触れられていないはずだが、キャッチアップはできていたので迷わず答えることができた（あっていたかは別）

- Azure Static WebApps
- Managed disk のZRSのサポート

サービスの制限とかを抑えておくと細かい点数を拾えるのでよいでしょう。Azureはサービスの一貫性みたいなのがなく、プランで出来ることが違ったり、なぜできないのかわからない制限、実運用していくと辛くなる制限も多いです。サービスの数だけ覚えないといけないのはなんか違うのでは、という気はしている。

あとは時代の流れ(?)というものがあると思っていて、ゾーン冗長、Azure AD認証（マネージドIDなど）、プライベートエンドポイント接続あたりを推していると感じている。

ゾーン冗長はもちろん可用性のためであり、ゾーン冗長のサポート無しのサービスをゾーンレベルの可用性を取るように複数台構成を運用するのはシンドイ。Azure functionのインスタンスを3つも稼働するコストなんかない、といわれ2つをTrafficManagerでホットスタンバイ構成を取るのを最近やったが、まぁしんどかった。3つ分のお金を出せれば迷わず使いたいが。個人的にはせめて2インスタンスから始められると嬉しい。

Azure AD認証はシークレットレスな運用を推し進めることでセキュアにしていく狙いがありそうで、リソース毎に払い出されるアカウントキーとかは今後使わないのが普通になるのではないかと思う。チュートリアルでは当たり前のように使っているが、正直アカウントキーをどう管理するかを踏まえて説明するか、警告してやる化したほうが良いと思っている。

プライベートエンドポイント接続は、通信をVNET内に閉じさせたいという ~~厳しい~~ お客様は未だに数多くいて、プライベートエンドポイント接続のサポート状況で採用できるサービスやプランが変わる事も多い。


